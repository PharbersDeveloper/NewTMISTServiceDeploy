models:
- NtmImage
- NtmProduct
- NtmPolicy
- NtmHospital
- NtmDepartment
- NtmRegion
- NtmRepresentative
- NtmManagerConfig
- NtmRepresentativeConfig
- NtmRegionConfig
- NtmHospitalConfig
- NtmProductConfig
- NtmResourceConfig

storages:
- name: NtmImageStorage
  method: NewImageStorage
  daemons:
  - BmMongodbDaemon
- name: NtmPolicyStorage
  method: NewPolicyStorage
  daemons:
  - BmMongodbDaemon
- name: NtmHospitalStorage
  method: NewHospitalStorage
  daemons:
  - BmMongodbDaemon
- name: NtmDepartmentStorage
  method: NewDepartmentStorage
  daemons:
  - BmMongodbDaemon
- name: NtmRegionStorage
  method: NewRegionStorage
  daemons:
  - BmMongodbDaemon
- name: NtmProductStorage
  method: NewProductStorage
  daemons:
  - BmMongodbDaemon
- name: NtmRepresentativeStorage
  method: NewRepresentativeStorage
  daemons:
  - BmMongodbDaemon
- name: NtmManagerConfigStorage
  method: NewManagerConfigStorage
  daemons:
  - BmMongodbDaemon
- name: NtmRepresentativeConfigStorage
  method: NewRepresentativeConfigStorage
  daemons:
  - BmMongodbDaemon
- name: NtmRegionConfigStorage
  method: NewRegionConfigStorage
  daemons:
  - BmMongodbDaemon
- name: NtmHospitalConfigStorage
  method: NewHospitalConfigStorage
  daemons:
  - BmMongodbDaemon
- name: NtmProductConfigStorage
  method: NewProductConfigStorage
  daemons:
  - BmMongodbDaemon
- name: NtmResourceConfigStorage
  method: NewResourceConfigStorage
  daemons:
  - BmMongodbDaemon

resources:
- name: NtmImageResource
  method: NewImageResource
  storages:
  - NtmImageStorage
  - NtmProductStorage
- name: NtmPolicyResource
  method: NewPolicyResource
  storages:
  - NtmPolicyStorage
- name: NtmHospitalResource
  method: NewHospitalResource
  storages:
  - NtmHospitalStorage
  - NtmImageStorage
- name: NtmDepartmentResource
  method: NewDepartmentResource
  storages:
  - NtmDepartmentStorage
- name: NtmRegionResource
  method: NewRegionResource
  storages:
  - NtmRegionStorage
  - NtmImageStorage
- name: NtmProductResource
  method: NewProductResource
  storages:
  - NtmProductStorage
  - NtmImageStorage
  - NtmProductConfigStorage
- name: NtmRepresentativeResource
  method: NewRepresentativeResource
  storages:
  - NtmRepresentativeStorage
  - NtmImageStorage
- name: NtmManagerConfigResource
  method: NewManagerConfigResource
  storages:
  - NtmManagerConfigStorage
- name: NtmRepresentativeConfigResource
  method: NewRepresentativeConfigResource
  storages:
  - NtmRepresentativeConfigStorage
  - NtmRepresentativeStorage
- name: NtmRegionConfigResource
  method: NewRegionConfigResource
  storages:
  - NtmRegionConfigStorage
  - NtmRegionStorage
- name: NtmHospitalConfigResource
  method: NewHospitalConfigResource
  storages:
  - NtmHospitalConfigStorage
  - NtmHospitalStorage
  - NtmPolicyStorage
  - NtmDepartmentStorage
- name: NtmProductConfigResource
  method: NewProductConfigResource
  storages:
  - NtmProductConfigStorage
  - NtmProductStorage
- name: NtmResourceConfigResource
  method: NewResourceConfigResource
  storages:
  - NtmResourceConfigStorage
  - NtmManagerConfigStorage
  - NtmRepresentativeConfigStorage

services:
- name: ntm-image
  model: NtmImage
  resource: NtmImageResource
- name: ntm-policy
  model: NtmPolicy
  resource: NtmPolicyResource
- name: ntm-hospital
  model: NtmHospital
  resource: NtmHospitalResource
- name: ntm-department
  model: NtmDepartment
  resource: NtmDepartmentResource
- name: ntm-region
  model: NtmRegion
  resource: NtmRegionResource
- name: ntm-product
  model: NtmProduct
  resource: NtmProductResource
- name: ntm-representative
  model: NtmRepresentative
  resource: NtmRepresentativeResource
- name: ntm-managerConfig
  model: NtmManagerConfig
  resource: NtmManagerConfigResource
- name: ntm-representativeConfig
  model: NtmRepresentativeConfig
  resource: NtmRepresentativeConfigResource
- name: ntm-regionConfig
  model: NtmRegionConfig
  resource: NtmRegionConfigResource
- name: ntm-hospitalConfig
  model: NtmHospitalConfig
  resource: NtmHospitalConfigResource
- name: ntm-productConfig
  model: NtmProductConfig
  resource: NtmProductConfigResource
- name: ntm-resourceConfig
  model: NtmResourceConfig
  resource: NtmResourceConfigResource

functions:


middlewares:


panic:
  name: NtmCommonPanicHandle
  create: NewCommonPanicHandle

daemons:
- name: BmMongodbDaemon
  method: NewMongoDBDaemon
  args:
    # host: primary
    host: 123.56.179.133
    port: 5555
    database: pharbers-ntm-client
- name: BmRedisDaemon
  method: NewRedisDBDaemon
  args:
    # host: redis
    host: 123.56.179.133
    port: 6378
    password:
    database: 0