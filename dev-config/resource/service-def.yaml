models:
- NtmHospital

storages:
- name: NtmImageStorage
  method: NewImageStorage
  daemons:
  - BmMongodbDaemon
- name: NtmPolicyStorage
  method: NewPolicyStorage
  daemons:
  - BmMongodbDaemon
- name: NtmHospitalStorage
  method: NewHospitalStorage
  daemons:
  - BmMongodbDaemon

resources:
- name: NtmImageResource
  method: NewImageResource
  storages:
  - NtmImageStorage
- name: NtmPolicyResource
  method: NewPolicyResource
  storages:
    - NtmPolicyStorage
- name: NtmHospitalResource
  method: NewHospitalResource
  storages:
    - NtmHospitalStorage
    - NtmImageStorage

services:
- name: ntm-image
  model: NtmImage
  resource: NtmImageResource
- name: ntm-policy
  model: NtmPolicy
  resource: NtmPolicyResource
- name: ntm-hospital
  model: NtmHospital
  resource: NtmHospitalResource

functions:


middlewares:


panic:
  name: NtmCommonPanicHandle
  create: NewCommonPanicHandle

daemons:
- name: BmMongodbDaemon
  method: NewMongoDBDaemon
  args:
    # host: primary
    host: 123.56.179.133
    port: 5555
    database: pharbers-ntm-client
- name: BmRedisDaemon
  method: NewRedisDBDaemon
  args:
    # host: redis
    host: 123.56.179.133
    port: 6378
    password:
    database: 0