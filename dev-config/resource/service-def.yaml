models:
- NtmImage
- NtmProduct
- NtmPolicy
- NtmHospital
- NtmRepresentative

storages:
- name: NtmImageStorage
  method: NewImageStorage
  daemons:
  - BmMongodbDaemon
- name: NtmPolicyStorage
  method: NewPolicyStorage
  daemons:
  - BmMongodbDaemon
- name: NtmHospitalStorage
  method: NewHospitalStorage
  daemons:
  - BmMongodbDaemon
- name: NtmProductStorage
  method: NewProductStorage
  daemons:
  - BmMongodbDaemon
- name: NtmRepresentativeStorage
  method: NewRepresentativeStorage
  daemons:
  - BmMongodbDaemon

resources:
- name: NtmImageResource
  method: NewImageResource
  storages:
  - NtmImageStorage
- name: NtmPolicyResource
  method: NewPolicyResource
  storages:
  - NtmPolicyStorage
- name: NtmHospitalResource
  method: NewHospitalResource
  storages:
  - NtmHospitalStorage
  - NtmImageStorage
- name: NtmProductResource
  method: NewProductResource
  storages:
  - NtmProductStorage
  - NtmImageStorage
- name: NtmRepresentativeResource
  method: NewRepresentativeResource
  storages:
  - NtmRepresentativeStorage
  - NtmImageStorage

services:
- name: ntm-image
  model: NtmImage
  resource: NtmImageResource
- name: ntm-policy
  model: NtmPolicy
  resource: NtmPolicyResource
- name: ntm-hospital
  model: NtmHospital
  resource: NtmHospitalResource
- name: ntm-product
  model: NtmProduct
  resource: NtmProductResource
- name: ntm-representative
  model: NtmRepresentative
  resource: NtmRepresentativeResource

functions:


middlewares:


panic:
  name: NtmCommonPanicHandle
  create: NewCommonPanicHandle

daemons:
- name: BmMongodbDaemon
  method: NewMongoDBDaemon
  args:
    # host: primary
    host: 123.56.179.133
    port: 5555
    database: pharbers-ntm-client
- name: BmRedisDaemon
  method: NewRedisDBDaemon
  args:
    # host: redis
    host: 123.56.179.133
    port: 6378
    password:
    database: 0